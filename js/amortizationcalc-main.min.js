// JavaScript Document
/**
  Main Script that creates Amortization Calculator Widget
  Author: http://usmortgagecalculator.org/
*/
(function(){function l(){a("#acww-widget-iframeinner").html('<form id="acww-formwrapper" class="col-xs-12 col-sm-4 no-pad"><div id="acww-form"><div class="form-group"> <label for="acww-loanamount" class="control-label">Loan Amount</label> <div class="input-group"> <input type="text" class="form-control acww-userinput" id="acww-loanamount" value="250,000" tabindex="1" placeholder="Loan Amount"/> </div></div><div class="form-group"> <label for="acww-loaninterest" class="control-label">Interest Rate</label> <div class="input-group"> <input type="text" class="form-control acww-userinput" id="acww-loaninterest" value="14.50" tabindex="2" placeholder="Interest Rate"/> </div></div><div class="form-group"> <label for="acww-loanterm" class="control-label">Loan Period (Months) </label> <div class="form-group"> <div class="acww-tenure-choice"> <div class="btn-group" data-toggle="buttons"> <label class="btn btn-primary"> <input type="hidden" name="acww-loantenure" id="acww-loanmonths" tabindex="5" autocomplete="off"/> Calculate </label></div></div> <div class="acww-inline-input-group"> <div class="input-group">  <input type="text" class="form-control acww-userinput" id="acww-loanterm" value="12" tabindex="3" placeholder="Amortization Period"/> </div></div></div></div><div class="clearfix"></div></div></form><div id="acww-summary" class="col-xs-12 col-sm-4 no-pad"><div id="acww-monthlypayment"><h4>Monthly Payment</h4><p>₦1,880.70</p></div><div id="acww-totalinterest"><h4>Total Interest Payable</h4><p>₦88,525.28</p></div><div id="acww-totalamount"><h4>Total of Payments<br>(Principal + Interest)</h4><p>₦338,525.28</p></div></div><div id="acww-piechart" class="highcharts-container col-xs-12 col-sm-4 no-pad"></div>');
f={colors:"#9DCE2C #F7B850 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4".split(" "),chart:{backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#DBDAD7",borderRadius:0,plotBackgroundColor:"#FFFFFF",plotShadow:!1,plotBorderWidth:1,style:{fontFamily:"Helvetica, Arial, Verdana, sans-serif",fontSize:"13px",fontWeight:"normal",color:"#888888"}},tooltip:{style:{color:"#444444",font:"13px Helvetica, Arial, Verdana, sans-serif"}},title:{style:{color:"#444444",font:"bold 13px Helvetica, Arial, Verdana, sans-serif"}},
subtitle:{style:{color:"#888888",font:"13px Helvetica, Arial, Verdana, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#000",tickColor:"#000",labels:{style:{color:"#000",font:"13px Helvetica, Arial, Verdana, sans-serif"}},title:{style:{color:"#888888",fontWeight:"normal",fontSize:"13px",fontFamily:"Helvetica, Arial, Verdana, sans-serif"}}},yAxis:{gridLineWidth:1,lineColor:"#000",lineWidth:1,tickWidth:1,tickColor:"#000",labels:{style:{color:"#888888",font:"13px Helvetica, Arial, Verdana, sans-serif"}},
title:{style:{color:"#888888",fontWeight:"normal",fontSize:"13px",fontFamily:"Helvetica, Arial, Verdana, sans-serif"}}},credits:{enabled:!1},legend:{borderColor:"#DBDAD7",itemMarginTop:2,itemMarginBottom:2,borderWidth:1,style:{color:"#888888",fontWeight:"normal",fontSize:"13px",fontFamily:"Helvetica, Arial, Verdana, sans-serif"},itemStyle:{color:"#888888",fontWeight:"normal",fontSize:"13px",fontFamily:"Helvetica, Arial, Verdana, sans-serif"},itemHoverStyle:{color:"#888888",fontWeight:"normal",fontSize:"13px",
fontFamily:"Helvetica, Arial, Verdana, sans-serif"},itemHiddenStyle:{color:"gray",fontWeight:"normal",fontSize:"13px",fontFamily:"Helvetica, Arial, Verdana, sans-serif"}},labels:{style:{color:"#888888"}}};Highcharts.setOptions(f);a("#acww-loanamount").blur(function(){var b=100*a("#acww-loanamount").val().replace(/[^\d\.]/g,"")/100;+b!==b||b%1?a("#acww-loanamount").val(Globalize.format(100*a("#acww-loanamount").val().replace(/[^\d\.]/g,"")/100,"n")):a("#acww-loanamount").val(Globalize.format(1*a("#acww-loanamount").val().replace(/[^\d\.]/g,
""),"n0"))});a("#acww-loaninterest").blur(function(){a("#acww-loaninterest").val(Math.round(1E3*a("#acww-loaninterest").val().replace(/[^\d\.]/g,""))/1E3)});a("#acww-loanterm").blur(function(){a("#acww-form input[name='acww-loantenure']")[0].checked?a("#acww-loanterm").val(Math.round(Math.round(12*a("#acww-loanterm").val().replace(/[^\d\.]/g,""))/12*100)/100):a("#acww-loanterm").val(a("#acww-loanterm").val().replace(/[^\d\.]/g,""))});a("#acww-form input[name='acww-loantenure']").change(function(){a("#acww-form input[name='acww-loantenure']")[0].checked?
a("#acww-loanterm").val(Math.round(a("#acww-loanterm").val().replace(/[^\d\.]/g,"")/12*100)/100):a("#acww-loanterm").val(Math.round(12*a("#acww-loanterm").val().replace(/[^\d\.]/g,"")))});m();g();h();k()}function m(){a("#acww-loanamount").val(Globalize.format(25E4,"n0","en-GB"));a("#acww-loaninterest").val(14.50);a("#acww-form input[name='acww-loantenure']")[0].checked?a("#acww-loanterm").val(15):a("#acww-loanterm").val(12);a(".acww-userinput").change(function(){g();h();k()})}function g(){d=Math.abs(a("#acww-loanamount").val().replace(/[^\d\.]/g,
""));c=Math.abs(a("#acww-loaninterest").val()/12/100);b=a("#acww-form input[name='acww-loantenure']")[0].checked?Math.abs(Math.round(12*a("#acww-loanterm").val())):Math.abs(a("#acww-loanterm").val());0==c&&(a("#acww-loaninterest").val(5),c=.004166666666666667);0==b&&(a("#acww-form input[name='acww-loantenure']")[0].checked?a("#acww-loanterm").val(1):a("#acww-loanterm").val(12),b=12)}function h(){e=Math.pow(1+c,b)/(Math.pow(1+c,b)-1)*c*d;a("#acww-monthlypayment p").text(Globalize.format(100*e/100,
"c2","en-GB"));a("#acww-totalinterest p").text(Globalize.format(100*(e*b-d)/100,"c2","en-GB"));a("#acww-totalamount p").text(Globalize.format(e*b*100/100,"c2","en-GB"))}function k(){new Highcharts.Chart({chart:{renderTo:"acww-piechart",plotBackgroundColor:null,borderWidth:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Break-up of Total Payment"},tooltip:{formatter:function(){return"<b>"+this.point.name+": "+Math.round(100*this.percentage)/100+"%</b>"}},plotOptions:{pie:{allowPointSelect:!0,
cursor:"pointer",dataLabels:{enabled:!0,distance:10,color:"#444444",formatter:function(){return"<b>"+Math.round(100*this.percentage)/100+"%</b>"}},showInLegend:!0}},series:[{type:"pie",name:"Principal Loan Amount vs. Total Interest",data:[["Principal Loan Amount",d],{name:"Total Interest",y:e*b-d,sliced:!0,selected:!0}]}]})}var d,c,b,e,f,a=jQuery.noConflict(!0);a(document).ready(function(){l()})})();